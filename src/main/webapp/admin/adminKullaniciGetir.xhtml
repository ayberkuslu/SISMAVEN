<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    <h:head>
        <title>Kisisel Bilgi </title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <h:outputStylesheet library="css" name="columns.css"/>
        <h:outputStylesheet library="css" name="menuStyle.css" />
    </h:head>
    <h:body>
        <h:form id="form">

            <div class="ui-g">
                <div class="ui-g-3" >
                    <div class="topLeftBar" >
                        <ui:include src="../default/defaultTopLeftBar.xhtml"   />
                    </div>                   
                </div>
                <div class="ui-g-9"   >
                    <div styleClass="topmenu" >
                        <ui:include src="../default/defaultTopBar.xhtml"   />
                    </div>
                </div>
            </div>


            <div class="ui-g"  >
                <div class="ui-g-3">
                    <div class="sidenav" >
                        <ui:include src="../default/defaultMenu.xhtml"   />
                    </div>
                </div>

                <div class="ui-g-9" style="margin-left: 25%; margin-top: 91px;">
                    <!--<p:autoUpdate  />-->

                    <p:growl id="msgs" showDetail="true" />
                    <p:panel 
                        id="toggleable" header="Users" toggleable="true" collapsed="false" closable="true" 
                        toggleSpeed="500" closeSpeed="500" widgetVar="panel" style="margin-bottom:20px"
                        >
                        <p:dataTable 
                            id="userTable" lazy="true" var="users" value="#{kullaniciGetirController.users}"
                            selectionMode="single" selection="#{kullaniciGetirController.selectedUser}" 
                            rowKey="#{users.userId}" style="width: 90%;margin-left: 2%;" rows="10"
                            paginator="true" 
                            paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                           >
                            <p:ajax event="rowSelect" listener="#{kullaniciGetirController.onRowSelect}" update=":form:userDetail"  process="userTable"   />
                            <!--oncomplete="PF('userDialog').show()"-->
                            <p:column headerText="ID" sortBy="#{users.userId}" filterBy="#{users.userId}" >
                                <h:outputText value="#{users.userId}" />
                            </p:column>
                            <p:column headerText="Name"  filterBy="#{users.name}" filterMatchMode="contains"  >
                                <h:outputText value="#{users.name}" />
                            </p:column>
                            <p:column headerText="Surname"  filterBy="#{users.surname}" filterMatchMode="contains">
                                <h:outputText value="#{users.surname}" />
                            </p:column>
                            <p:column headerText="Email"  filterBy="#{users.email}" filterMatchMode="contains">
                                <h:outputText value="#{users.email}" />
                            </p:column>
                            <p:column headerText="tckn" filterBy="#{users.tckno}" filterMatchMode="contains">
                                <h:outputText value="#{users.tckno}" />
                            </p:column>
                            <f:facet name="footer">
                            <p:commandButton process="userTable" update=":form:userDetail" oncomplete="PF('userDialog').show()" icon="pi pi-search" value="View"   />
                            </f:facet>
                        </p:dataTable>
                    </p:panel>
                    <br/>

                    <h:outputText id="selected"  value="#{kullaniciGetirController.selectedUser.name}"  />

                    <br/>



                    <p:commandButton value="Getir" update="selected" action="#{kullaniciGetirController.loadData()}" style="width: 100px; height:60px;background: blue;" />

                    <p:dialog header="User Detail" widgetVar="userDialog" modal="true" showEffect="fade" hideEffect="fade" resizable="false">
                        <p:outputPanel id="userDetail" style="text-align:center;">
                            <p:panelGrid  columns="2" rendered="#{not empty kullaniciGetirController.selectedUser}" columnClasses="label,value" style="height: 400px !important;width: 400px !important; ">
                                <f:facet name="header">
                                    
                                    <!--<p:graphicImage name="demo/images/car/#{dtLazyView.selectedCar.brand}-big.gif"/>-->
                                </f:facet>
                                <h:outputText value="Name :" />
                                <h:outputText value="#{kullaniciGetirController.selectedUser.name}" />

                                <h:outputText value="Id:" />
                                <h:outputText value="#{kullaniciGetirController.selectedUser.userId}" />

                                <h:outputText value="Ststu" />
                                <h:outputText value="#{kullaniciGetirController.selectedUser.status}" />

                                <h:outputText value="tckn" />
                                <h:outputText value="#{kullaniciGetirController.selectedUser.tckno}" />


                            </p:panelGrid>
                        </p:outputPanel>
                    </p:dialog>


                    
                    
                    

                </div>

            </div>


        </h:form>

    </h:body>
</html>
